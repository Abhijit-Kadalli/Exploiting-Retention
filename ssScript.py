from selenium import webdriver
import requests
from bs4 import BeautifulSoup
import os

# Provide the path of the webdriver
webdriver_path = "/path/to/chromedriver"

# Create a new instance of the Chrome driver
driver = webdriver.Chrome(webdriver_path)

# Provide the URL of the website
url = "https://www.reddit.com/r/AskReddit/comments/13plb2h/how_did_you_realise_that_your_familyextended/"

# Send a GET request to the website
response = requests.get(url)

url = url.split("/")

# Parse the HTML content using BeautifulSoup
soup = BeautifulSoup(response.content, "html.parser")

# Find the title <shreddit-post> tag
post_tag = soup.find("shreddit-post")
post_text_ele_id = "post_title-t3_" + url[6]
post_test_ele = soup.find(id=post_text_ele_id)
post_text = post_test_ele.text

# make a directory to store the screenshots
os.mkdir(post_text)

# screenshot of the post title
post_tag.screenshot(os.path.abspath(f"{post_text}/post_title.png"))

# Find all <shreddit-comment> tags
comment_tags = soup.find_all("shreddit-comment")

# Process the comment tags as per your requirements
for i,comment in enumerate(comment_tags):
    # Access and extract information from the comment tag
    # Example: print the content of the comment
    print(comment.find("div", class_="md").text.strip())
    screenshot_path = f"comment_{i}.png"
    comment.screenshot(os.path.abspath(f"{post_text}/{screenshot_path}"))
